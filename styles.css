:root { --bg:#f8fafc; --ink:#0f172a; --ink2:#334155; --line:#e5e7eb; --ok:#10b981; }
* { box-sizing: border-box; }
body { margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial; color:var(--ink); background:var(--bg); }
.toolbar { position:sticky; top:0; display:flex; gap:12px; flex-wrap:wrap; align-items:center; padding:10px; border-bottom:1px solid var(--line); background:white; z-index:20; }
.tool-group { display:flex; align-items:center; gap:8px; }
.tool-group button { padding:8px 10px; border:1px solid var(--line); background:white; border-radius:10px; cursor:pointer; }
.tool-group button.active { background:#0f172a; color:white; border-color:#0f172a; }
.tool-group label { font-size:12px; color:var(--ink2); display:flex; align-items:center; gap:6px; }
.tool-group .chk { align-items:center; }
.stage { display:grid; grid-template-columns: 1fr 360px; gap:16px; padding:16px; }
.canvas-wrap { position:relative; background:white; border:1px solid var(--line); border-radius:16px; overflow:hidden; box-shadow:0 1px 6px rgba(0,0,0,.05); }
#canvas { display:block; position:relative; z-index:11; }
#overlay { display:block; position:absolute; inset:0; pointer-events:none; z-index:10; }
.bg-layer { position:absolute; inset:0; z-index:0; pointer-events:none; }
.panels { display:grid; gap:12px; }
.panels section { background:white; border:1px solid var(--line); border-radius:16px; padding:10px; }
.panels h3 { margin:6px 0 8px; font-size:14px; display:flex; align-items:center; gap:6px; }
#liveBadge { font-weight:600; font-size:11px; color:var(--ok); }
textarea { width:100%; height:160px; font:12px/1.3 ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; background:#f1f5f9; border:1px solid var(--line); border-radius:10px; padding:8px; }
.foot { font-size:12px; color:var(--ink2); padding:12px 16px; }

/* Banner */
.banner { position:sticky; top:0; z-index:30; background:var(--ok); color:white; padding:8px 12px; display:flex; justify-content:space-between; align-items:center; font-size:12px; }
.banner.hidden { display:none; }
.banner button { border:0; background:rgba(255,255,255,.25); color:white; padding:4px 8px; border-radius:8px; cursor:pointer; }

/* Detect progress */
.progress { display:flex; align-items:center; gap:8px; font-size:12px; color:var(--ink2); padding:6px 10px; border:1px solid var(--line); border-radius:10px; background:#f1f5f9; box-shadow:0 1px 4px rgba(0,0,0,.08); }
.progress.hidden { display:none; }
.progress .spinner { width:14px; height:14px; border:2px solid rgba(15,23,42,.15); border-top-color:#2563eb; border-radius:50%; animation: spin .9s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }

#logPanel #logBox { height:160px; background:#0f172a; color:#e2e8f0; border:1px solid #1e293b; border-radius:10px; padding:8px; font:12px/1.4 ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; overflow-y:auto; white-space:pre-wrap; }
